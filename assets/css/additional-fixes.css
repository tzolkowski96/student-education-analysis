/* Additional Cross-browser Compatibility Enhancements */

/* Standard properties alongside vendor prefixes */
input[type="number"] {
    -moz-appearance: textfield;
    -webkit-appearance: none;
    appearance: textfield;
    margin: 0;
}

input::-webkit-outer-spin-button,
input::-webkit-inner-spin-button {
    -webkit-appearance: none;
    appearance: none;
    margin: 0;
}

/* Form validation and hints */
.form-hint {
    display: block;
    color: #6c757d;
    font-size: 0.8em;
    margin-top: 0.25rem;
}

/* Validation states */
input:invalid {
    border-color: #dc3545;
    box-shadow: 0 0 0 0.2rem rgba(220, 53, 69, 0.25);
}

input:valid {
    border-color: #28a745;
    box-shadow: 0 0 0 0.2rem rgba(40, 167, 69, 0.25);
}

/* Reset button styling */
button[type="reset"] {
    background-color: #6c757d;
    margin-left: 0.5rem;
}

button[type="reset"]:hover {
    background-color: #5a6268;
}

/* Enhanced mobile detection */
.mobile-safari .full-height {
    height: calc(var(--vh, 1vh) * 100);
}

/* Improved focus indicators for keyboard navigation */
a:focus-visible, 
button:focus-visible, 
input:focus-visible, 
select:focus-visible {
    outline: 3px solid #4a90e2;
    outline-offset: 3px;
}

/* Fix for nested flexbox issues in Safari */
.browser-safari .demo-container > * {
    width: 100%;
}

@media (min-width: 768px) {
    .browser-safari .demo-container > * {
        width: auto;
    }
}

/* Mobile improvements */
@media (max-width: 768px) {
    .demo-container {
        flex-direction: column;
    }
    
    .form-panel,
    .explanation-panel {
        width: 100%;
        margin: 0 0 1.5rem 0;
    }
    
    .form-actions {
        display: flex;
        justify-content: space-between;
    }
    
    .form-actions button {
        flex: 1;
        margin: 0 0.25rem;
    }
    
    /* Improve touch targets */
    input[type="number"],
    select,
    button {
        min-height: 44px;
    }
}
